{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "CalculateContributionRequest.json",
  "type": "object",
  "title": "Calculate Contribution Request",
  "description": "Request data for calculating contributions following an appeal",
  "properties": {
    "id": {
      "type": "integer",
      "description": "ID"
    },
    "applId": {
      "type": "integer",
      "description": "The associated application ID"
    },
    "repId": {
      "type": "integer",
      "description": "The representation order ID"
    },
    "contributionFileId": {
      "type": "integer",
      "description": "The Contribution File Id"
    },
    "effectiveDate": {
      "type": "string",
      "description": "Effective Date",
      "format": "date-time"
    },
    "calcDate": {
      "type": "string",
      "description": "Calculate Contribution Date",
      "format": "date-time"
    },
    "contributionCap": {
      "type": "number",
      "description": "Contribution Cap"
    },
    "monthlyContributions": {
      "type": "number",
      "description": "Monthly Contributions"
    },
    "upfrontContributions": {
      "type": "number",
      "description": "Upfront Contributions"
    },
    "upliftApplied": {
      "type": "string",
      "description": "Uplift Applied"
    },
    "basedOn": {
      "type": "string",
      "description": "Based On"
    },
    "transferStatus": {
      "type": "string",
      "description": "Transfer status"
    },
    "dateUpliftApplied": {
      "type": "string",
      "description": "Date Uplift Applied",
      "format": "date-time"
    },
    "dateUpliftRemoved": {
      "type": "string",
      "description": "Date Uplift Removed",
      "format": "date-time"
    },
    "dateCreated": {
      "type": "string",
      "description": "Date Contribution Created",
      "format": "date-time"
    },
    "userCreated": {
      "type": "string",
      "description": "The user creating the record"
    },
    "dateModified": {
      "type": "string",
      "description": "Date Modified",
      "format": "date-time"
    },
    "userModified": {
      "type": "string",
      "description": "User Modified"
    },
    "createContributionOrder": {
      "type": "string",
      "description": "Create Contribution Order"
    },
    "correspondenceId": {
      "type": "integer",
      "description": "Correspondence Id"
    },
    "active": {
      "type": "string",
      "description": "Active Record Indicator"
    },
    "replacedDate": {
      "type": "string",
      "description": "Replaced Date"
    },
    "latest": {
      "type": "boolean",
      "description": "Latest Record Indicator"
    },
    "ccOutcomeCount": {
      "type": "integer",
      "description": "Crown Court Outcome Count"
    },
    "seHistoryId": {
      "type": "integer",
      "description": "History Id"
    },
    "magCourtOutcome": {
      "type": "object",
      "description": "Magistrate Court Outcome",
      "existingJavaType": "uk.gov.justice.laa.crime.contribution.staticdata.enums.MagCourtOutcome"
    },
    "caseType": {
      "type": "object",
      "description": "The case type",
      "existingJavaType": "uk.gov.justice.laa.crime.contribution.staticdata.enums.CaseType"
    },
    "appealType": {
      "type": "string",
      "description": "The appeal type",
      "existingJavaType": "uk.gov.justice.laa.crime.contribution.staticdata.enums.AppealType"
    },
    "lastOutcome": {
      "type": "object",
      "description": "The most recent outcome from the courts",
      "properties": {
        "outcome": {
          "type": "object",
          "description": "The appeal outcome",
          "existingJavaType": "uk.gov.justice.laa.crime.contribution.staticdata.enums.CrownCourtAppealOutcome"
        },
        "dateSet": {
          "type": "string",
          "format": "date-time",
          "description": "The date that the outcome was decided"
        }
      }
    },
    "assessments": {
      "type": "array",
      "description": "List of assessments performed",
      "minItems": 1,
      "items": {
        "$ref": "common/Assessment.json"
      }
    }
  },
  "additionalProperties": false,
  "required": ["applId", "repId", "caseType", "appealType", "lastOutcome", "assessments"]
}
